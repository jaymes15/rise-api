services: 
  db:
    container_name: rise_database_container
    image: postgres
    restart: always
    environment:
      - POSTGRES_HOST_AUTH_METHOD=trust
    volumes:
      - ./pg_data:/var/lib/postgresql/data

  # # API services
  api: 
    image: rise
    ports: 
      - 3300:3300
    volumes:
      - .:/usr/src/app
    environment:
      NODE_ENV: 'development'
      DEV_PORT: 3300
      DATABASE_DEV_STRING: 'postgres://jeanvaljean:S0aIfZjRMvM4htoff7B0EW0d3xtJp5Z5@dpg-cntk86v109ks73b6l7m0-a:5432/rise_db'
      DEV_PAPERTRAIL_HOST: 'logs4.papertrailapp.com'
      DEV_PAPERTRAIL_PORT: 36518
      JWT_SECRET: 'somerandomekeynumberalpha'
    depends_on: 
      - db
